<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LOGIN || NUKA-COLA</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css"
      integrity="sha512-NmLkDIU1C/C88wi324HBc+S2kLhi08PN5GDeUVVVC/BVt/9Izdsc9SVeVfA1UZbY3sHUlDSyRXhCzHfr6hmPPw=="
      crossorigin="anonymous"
    />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../../css/common.css" />
    <link rel="stylesheet" href="../../css/login.css" />
  </head>
  <body>
    <header>
      <div class="inner">
        <div class="left__header">
          <div class="logo">
            <img src="../../assets/logo.png" alt="logo" />
          </div>
          <ul class="header__nav">
            <li class="header__nav-item">PARTNER</li>
            <li class="header__nav-item">COMPANY</li>
            <li class="header__nav-item">EMPLOYMENT</li>
          </ul>
        </div>
        <div class="right__header">
          <i class="material-icons">menu</i>
          <span>MENU</span>
        </div>
      </div>
    </header>

    <!-- 메인메뉴 -->
    <div class="main__menu__container">
      <div class="inner">
        <div class="menu__left">
          <div class="search__box">
            <input type="text" placeholder="검색어를 입력해주세요" />
            <i class="material-icons"> search </i>
          </div>
          <ul class="menu__nav">
            <li><a href="#">TIME LINE</a></li>
            <li><a href="#">PARTNERS</a></li>
            <li><a href="#">COMPANIES</a></li>
            <li><a href="#">EMPLOYMENT</a></li>
          </ul>
        </div>
        <div class="menu__right">
          <p>어서오세요 <b>가나다</b>님</p>
          <ul>
            <li>알림</li>
            <li>메시지</li>
            <li>PROFILE</li>
            <li>LOGOUT</li>
          </ul>
        </div>
      </div>
    </div>
    <script>
      document.querySelector(".right__header").addEventListener("click", () => {
        if (
          document
            .querySelector(".main__menu__container")
            .classList.contains("main__menu-active")
        ) {
          document.querySelector(".main__menu__container").style.animation =
            "slideOffMenu 0.5s ease-in-out forwards";
          setTimeout(() => {
            document
              .querySelector(".main__menu__container")
              .classList.toggle("main__menu-active");
            document.querySelector(".main__menu__container").style.animation =
              "slideMenu 0.5s ease-in-out forwards";
          }, 300);
        } else {
          document
            .querySelector(".main__menu__container")
            .classList.toggle("main__menu-active");
        }
      });
    </script>

    <!-- 컨텐츠 -->
    <main>
      <div class="inner">
        <section class="section__login">
          <h1>
            당신의 파트너가 함께 하는&nbsp;곳 <br /><strong>누카콜라</strong
            >입니다.
          </h1>
          <div class="form__container">
            <form class="login__form initial__info">
              <div class="login__title">
                <h2>SIGNUP</h2>
              </div>
              <div class="input__box">
                <label for="">이메일</label>
                <input type="text" id="email-check" />
              </div>
              <small id="alert_check_email" class="signup--check">올바른 이메일형식을 입력해주세요</small>
              <small id="alert_dupcheck_email" class="signup--check">올바른 이메일형식을 입력해주세요</small>
              <div class="input__box">
                <label for="">비밀번호</label>
                <input id="password" type="text" />
              </div>
              <div class="input__box">
                <label for="">비밀번호 확인</label>
                <input id="password-check" type="text" />
              </div>
              <small id="alert_check_pwd" class="signup-check"
                >비밀번호를 확인해주세요</small
              >
              <div class="input__box">
                <label for="">이름</label>
                <input type="text" />
              </div>
              <div class="login__btn__wrapper">
                <button class="btn">취소</button>
                <button type="button" id="sign-up-next" class="btn btn-blue">
                  다음
                </button>
              </div>
            </form>

            <form class="login__form more__info">
              <div class="login__title">
                <h2>추가정보</h2>
              </div>
              <div class="input__box">
                <label for="">생년월일</label>
                <input type="text" />
              </div>
              <!-- <small class="signup--check">중복된 아이디입니다.</small> -->
              <div class="input__box">
                <label for="">POSITION</label>
                <select name="are-u" id="">
                  <option value="출신 초등학교 이름">개발자</option>
                  <option value="어머니의 성함">기획자</option>
                  <option value="나의 보물 1호">디자이너</option>
                </select>
              </div>
              <div class="input__box">
                <label for="">본인확인 질문</label>
                <select name="are-u" id="">
                  <option value="출신 초등학교 이름">
                    출신 초등학교 이름은?
                  </option>
                  <option value="어머니의 성함">어머니의 성함은?</option>
                  <option value="나의 보물 1호">나의 보물 1호는?</option>
                </select>
              </div>
              <div class="input__box">
                <label for="">본인확인 응답</label>
                <input type="text" />
              </div>
              <div class="login__btn__wrapper">
                <button type="button" id="sign-up-before" class="btn">
                  이전
                </button>
                <button class="btn btn-blue">회원가입</button>
              </div>
            </form>
          </div>
        </section>
        <div class="section__banner">
          <div class="img__wrapper">
            <img src="../../assets/loginImage.jpg" alt="" />
          </div>
          <ul class="login__nav">
            <li onClick='location.href="/views/login/login.html"'>
              <span>회원이신가요?</span>
              <b>LOGIN</b>
            </li>
            <li>
              <span>처음방문이신가요?</span>
              <b>SIGNUP</b>
            </li>
            <li onClick='location.href="/views/timeline/index.html"'>
              <span>돌러보기</span>
              <b>MORE</b>
            </li>
          </ul>
        </div>
      </div>
    </main>
    <script defer>

      // 다음버튼
      document.querySelector("#sign-up-next").addEventListener("click", () => {
        document
          .querySelector(".form__container")
          .classList.toggle("form_move");
      });
      //이전버튼
      document
        .querySelector("#sign-up-before")
        .addEventListener("click", () => {
          document
            .querySelector(".form__container")
            .classList.toggle("form_move");
        });

      // 비밀번호확인 체크
      document
        .querySelector("#password-check")
        .addEventListener("input", (e) => {
          if (document.querySelector("#password").value !== e.target.value) {
            document.querySelector("#alert_check_pwd").style.display = "block";
            console.log(document.querySelector("#password").value);
            console.log(e.target.value);
          } else {
            document.querySelector("#alert_check_pwd").style.display = "none";
          }
        });

      // 아이디 체크
      document
        .querySelector("#email-check")
        .addEventListener("input",(e)=>{
          //정규표현식 출처 : https://emailregex.com/
          let checkEmail = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
          
          if(!checkEmail.test(e.target.value)){ // 이메일 형식이 올바르지 않은 경우

            document.querySelector("#alert_check_email").style.display="block";
            document.querySelector("#sign-up-next").disabled='true'; // 다음버튼 비활성화
            document.querySelector("#alert_dupcheck_email").style.display='block';
            document.querySelector("#alert_dupcheck_email").style.color='#6374e8';
            document.querySelector("#alert_dupcheck_email").innerText='사용 가능한 이메일입니다.'

          }else{ // 이메일 형식이 올바른 경우

            document.querySelector("#alert_check_email").style.display="none";
            document.querySelector("#sign-up-next").removeAttribute('disabled'); //다음 버튼 활성화
            //여기에 비동기식 이메일 중복체크 기술해줄까?
            
          }
        });

    </script>
  </body>
</html>
